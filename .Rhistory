access_token <- get_spotify_access_token()
library(spotifyr)
beatles <- get_artist_audio_features('the beatles')
library(tidyverse)
library(tidyverse)
library(tidyv
)
count(beatles, key_mode, sort = T)
# Retrieve top 100 songs of 2017 playlist
get_playlist_tracks <- function(playlists, access_token = get_spotify_access_token(), show_progress = TRUE) {
if (show_progress == TRUE & nrow(playlists) > 1) {
pb <- txtProgressBar(min = 0, max = nrow(playlists), style = 3)
}
playlist_tracks_df <- map_df(1:nrow(playlists), function(this_playlist) {
num_loops <- ceiling(playlists$playlist_num_tracks[this_playlist] / 100)
df <- map_df(1:num_loops, function(this_loop) {
res <- RETRY('GET', url = playlists$playlist_tracks_url[this_playlist], query = list(access_token = access_token, limit = 100, offset = (100 * this_loop) - 100), quiet = TRUE) %>% content
if (!is.null(res$error)) {
stop(paste0(res$error$message, ' (', res$error$status, ')'))
}
content <- res$items
if (length(content) == 0) {
track_info <- tibble()
} else {
track_info <- map_df(1:length(content), function(this_row) {
this_track <- content[[this_row]]
if (is.null(this_track$added_at)) {
track_added_at <- NA
} else {
track_added_at <- this_track$added_at
}
if (!is.null(this_track$track$id)) {
list(
playlist_name = playlists$playlist_name[this_playlist],
playlist_img = playlists$playlist_img[this_playlist],
track_name = this_track$track$name,
track_uri = this_track$track$id,
artist_name = this_track$track$artists[[1]]$name,
album_name = this_track$track$album$name,
album_img = ifelse(length(this_track$track$album$images) > 0, this_track$track$album$images[[1]]$url, ''),
track_added_at = as.POSIXct(track_added_at, format = '%Y-%m-%dT%H:%M:%SZ')
)
}
})
}
})
if (exists('pb')) {
setTxtProgressBar(pb, this_playlist)
}
return(df)
})
return(playlist_tracks_df)
}
View(get_playlist_tracks)
View(get_playlist_tracks)
get_playlist_tracks("Top Tracks of 2017")
get_playlist_tracks("Top Tracks of 2017", access_token = get_spotify_access_token(), show_progress = TRUE)
get_playlist_tracks(Top Tracks of 2017)
get_playlist_tracks("Top Tracks of 2017")
playlist_tracks <- get_playlist_tracks(playlists)
playlist_tracks <- get_playlist_tracks("Top Tracks of 2017")
playlist_tracks <- get_playlist_tracks(playlists)
playlist_tracks <- get_playlist_tracks(spotify)
get_user_playlists <- function(username, access_token = get_spotify_access_token(), show_progress = TRUE) {
playlist_count <- get_user_playlist_count(username)
num_loops <- ceiling(playlist_count / 50)
offset <- 0
if (show_progress == TRUE & num_loops > 1) {
pb <- txtProgressBar(min = 0, max = num_loops, style = 3)
}
playlists_list <- map(1:ceiling(num_loops), function(x) {
endpoint <- paste0('https://api.spotify.com/v1/users/', username, '/playlists')
res <- RETRY('GET', url = endpoint, query = list(access_token = access_token, offset = offset, limit = 50), quiet = TRUE) %>% content
if (!is.null(res$error)) {
stop(paste0(res$error$message, ' (', res$error$status, ')'))
}
content <- res$items
total <- content$total
offset <<- offset + 50
if (exists('pb')) {
setTxtProgressBar(pb, x)
}
return(content)
})
playlists_df <- parse_playlist_list_to_df(playlists_list) %>%
dplyr::filter(!is.na(playlist_name))
return(playlists_df)
}
playlist <-  get_user_playlists("Spotify")
playlist <-  get_user_playlists(Spotify)
playlist <-  get_user_playlists(spotify)
playlist <-  get_user_playlists(Spotify)
playlist <-  get_user_playlists(truongfam)
get_user_playlists(Spotify)
install_github("tiagomendesdantas/Rspotify")
library(devtools)
install_github("tiagomendesdantas/Rspotify")
install_github("tiagomendesdantas/Rspotify")
library(devtools)
install_github("tiagomendesdantas/Rspotify")
shiny::runApp('Desktop/INFO201/squadBF2')
# sourcing credentials such as client ID and client secret
source("api_key.R")
# set credentials for the Spotify API
# IMPORTANT: set the "Redirect URI". Go to your Spotify application on the
# web, go to "Edit Settings", and under "Redirect URIs", type
# "http://localhost:1410/"
# first parameter: the name of your spotify application
# second parameter: your Client ID, set this in your own api_key.R
# third parameter: your Secret Client, set this in your own api_key.R
keys <- spotifyOAuth("Song Analysis", client_id, client_secret)
# get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token=keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
runApp('Desktop/INFO201/squadBF2')
# set credentials for the Spotify API
# IMPORTANT: set the "Redirect URI". Go to your Spotify application on the
# web, go to "Edit Settings", and under "Redirect URIs", type
# "Y"
# first parameter: the name of your spotify application
# second parameter: your Client ID, set this in your own api_key.R
# third parameter: your Secret Client, set this in your own api_key.R
keys <- spotifyOAuth("Song Analysis", client_id, client_secret)
# get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token=keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
rap_caviar <- get_playlist_features("Spotify", "37i9dQZF1DX0XUsuxWHRQd")
rap_caviar <- get_playlist_features("Spotify", "37i9dQZF1DX0XUsuxWHRQd")
View(rap_caviar)
runApp('Desktop/INFO201/squadBF2')
searchArtist("Regina+spektor", token = key)
searchArtist("Regina+spektor", token = keys)
artist <- searchArtist("Regina+spektor", token = keys)
View(artist)
View(artist)
artist[,id]
artist[id]
artist[,artist$id]
runApp('Desktop/INFO201/squadBF2')
View(artist)
View(artist)
id <- artist$id
album <- getAlbum(id, token = keys)
artist <- searchArtist(Drake, token = keys)
artist <- searchArtist("Drake", token = keys)
View(artist)
View(artist)
runApp('Desktop/INFO201/squadBF2')
setwd("~/Desktop/INFO201/squadBF2")
runApp()
runApp()
# sourcing credentials such as client ID and client secret
source("api_key.R")
# set credentials for the Spotify API
# IMPORTANT: set the "Redirect URI". Go to your Spotify application on the
# web, go to "Edit Settings", and under "Redirect URIs", type
# "Y"
# first parameter: the name of your spotify application
# second parameter: your Client ID, set this in your own api_key.R
# third parameter: your Secret Client, set this in your own api_key.R
keys <- spotifyOAuth(app_id, client_id, client_secret)
# get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token=keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
runApp()
setwd("~/Desktop/INFO201/squadBF2")
runApp()
runApp()
runApp('Desktop/INFO201/squadBF2')
library(Hmisc)
install.packages(Hmisc)
install.packages("Hmisc")
library(Hmisc)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
# set credentials for the Spotify API
# IMPORTANT: set the "Redirect URI". Go to your Spotify application on the
# web, go to "Edit Settings", and under "Redirect URIs", type
# "http://localhost:1410/"
# first parameter: the name of your spotify application
# second parameter: your Client ID, set this in your own api_key.R
# third parameter: your Secret Client, set this in your own api_key.R
keys <- spotifyOAuth(app_id, client_id, client_secret)
# get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token=keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(artist)
View(artist)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
artist[, "display_name"]
View(artist)
View(artist)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
artist <- searchArtist(input$search, token = keys)
artist_selected <- input$selected_artist
artist <- searchArtist(input$search, token = keys)
runApp('Desktop/INFO201/squadBF2')
tabPanel(
"Search for an Artist",
titlePanel(
h1("Looking for an Artist?",
style = "color:cadetblue;padding-bottom:20px")
),
# Create sidebar layout
sidebarLayout(
# Side panel for controls
sidebarPanel(
style = "position:fixed;width:300px;color:cadetblue",
textInput("search", label = "Find an Artist", value = "")
),
selectInput(
"selected_artist",
label = "Artist",
choices = artist[, "display_name"]
)
)
),
artist <- searchArtist(input$search, token = keys)
runApp('Desktop/INFO201/squadBF2')
US_top_50 <- get_playlist_features("spotifycharts", "37i9dQZEVXbLRQDuF5jeBp")
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
US_top_50[, "artist"]
runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
songs <- select(artist_selected$tracks)
artist_selected <- input$selected_artist
songs <- select(artist_selected$tracks)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
# get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token=keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
data <- US_top_50 %>% select(tracks, artist, x, y)
x <- input$selected_artist
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
data <- select(US_top_50, "Drake", tracks)
data <- select(US_top_50, Drake, tracks)
data <- select(US_top_50, artist = Drake, tracks)
data <- select(US_top_50, artist = "Drake", tracks)
data <- select(US_top_50, arist == "Drake", tracks)
data <- select(US_top_50, artist == "Drake", tracks)
data <- select(US_top_50, artist, tracks)
View(data)
View(data)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
data <- select(US_top_50, "Drake", Drake$tracks)
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
View(US_top_50)
View(US_top_50)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
# combine playlist and playlist features
full_join(playlist, playlist_features_only)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
# Combine playlist and playlist features
full_join(playlist, playlist_features_only)
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
global_top_50 <- get_playlist_features("spotifycharts",
"37i9dQZEVXbMDoHDwVN2tF")
# Get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# Get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# Get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token = keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# Combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
global_top_50 <- get_playlist_features("spotifycharts",
"37i9dQZEVXbMDoHDwVN2tF")
# Get features for songs in the playlist
get_playlist_features <- function(playlist_user, playlist_ID) {
# Get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# Get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token = keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# Combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
global_top_50 <- get_playlist_features("spotifycharts",
"37i9dQZEVXbMDoHDwVN2tF")
get_playlist_features <- function(playlist_user, playlist_ID) {
# Get playlist
playlist <- getPlaylistSongs(playlist_user, playlist_ID, token = keys)
# Get playlist features
raw_playlist_features <- list()
for (row_num in 1:nrow(playlist)) {
song <- playlist[row_num, ]$id
raw_playlist_features[[row_num]] <- getFeatures(song, token = keys)
}
playlist_features_only = do.call(rbind, raw_playlist_features)
# Combine playlist and playlist features
full_join(playlist, playlist_features_only)
}
View(US_top_50)
View(US_top_50)
shiny::runApp('Desktop/INFO201/squadBF2')
# Sourcing credentials such as client ID and client secret
source("api_key.R")
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
shiny::runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
runApp('Desktop/INFO201/squadBF2')
lintr:::addin_lint()
lintr:::addin_lint()
lintr:::addin_lint()
lintr:::addin_lint()
# Set credentials for the Spotify API
# IMPORTANT: set the "Redirect URI". Go to your Spotify application on the
# web, go to "Edit Settings", and under "Redirect URIs", type
# "http://localhost:1410/"
# First parameter: the name of your spotify application
# Second parameter: your Client ID, set this in your own api_key.R
# Third parameter: your Secret Client, set this in your own api_key.R
keys <- spotifyOAuth(app_id, client_id, client_secret)
runApp('Desktop/INFO201/squadBF2')
